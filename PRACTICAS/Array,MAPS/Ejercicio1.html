<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Personas</title>
</head>

<body>
    <h1>Personas</h1>
    <h2>Ejercicio 2 - Array de Personas ordenado:</h2>
    <div id="outputArray"></div>

    <h2>Ejercicio 3 - Mapa de Personas ordenado por DNI:</h2>
    <table border="1" id="outputMap">
        <tr>
            <th>DNI</th>
            <th>Nombre</th>
            <th>Apellidos</th>
            <th>Población</th>
            <th>Edad</th>
            <th>Estudios</th>
        </tr>
    </table>

    <script>
        class Persona {
            constructor(nombre, apellidos, poblacion, edad, estudios, carnetConducir) {
                this.nombre = nombre;
                this.apellidos = apellidos;
                this.poblacion = poblacion;
                this._edad = edad;
                this._estudios = estudios;
                this.carnetConducir = carnetConducir;
            }

            set edad(edad) {
                if (typeof edad === "number") {
                    this._edad = edad;
                } else {
                    console.error("Error: La edad debe ser un número.");
                }
            }

            get edad() {
                return this._edad;
            }

            set estudios(estudios) {
                this._estudios = estudios;
            }

            get estudios() {
                return this._estudios;
            }
        }

        let persona1 = new Persona("Mario", "Dueñas", "Toledo", 20, "Ingeniería", true);
        let persona2 = new Persona("Alvaro", "Ávila", "Toledo", 20, "Grado Superior", false);
        let persona3 = new Persona("Diego", "Rentero", "Toledo", 22, "Nini", true);

        // Ejercicio 2: Ordenar array de personas por nombre
        let personasArray = [persona1, persona2, persona3];
        personasArray.sort((a, b) => a.nombre.localeCompare(b.nombre));

        let outputArray = document.getElementById("outputArray");
        personasArray.forEach(persona => {
            outputArray.innerHTML += `<p>${persona.nombre} ${persona.apellidos} - ${persona.edad} años - Estudios: ${persona.estudios}</p>`;
        });

        // Ejercicio 3: Crear y ordenar mapa de personas por DNI
        let personasMap = new Map();
        personasMap.set("12345678A", persona1);
        personasMap.set("23456789B", persona2);
        personasMap.set("34567890C", persona3);

        let outputMap = document.getElementById("outputMap");
        let personasMapSorted = new Map([...personasMap.entries()].sort());

        personasMapSorted.forEach((persona, dni) => {
            outputMap.innerHTML += `<tr>
                <td>${dni}</td>
                <td>${persona.nombre}</td>
                <td>${persona.apellidos}</td>
                <td>${persona.poblacion}</td>
                <td>${persona.edad}</td>
                <td>${persona.estudios}</td>
            </tr>`;
        });
    </script>
</body>

</html>
